namespace SpriteKind {
    export const Curtain = SpriteKind.create()
    export const Background = SpriteKind.create()
    export const Hitbox = SpriteKind.create()
    export const Effect = SpriteKind.create()
    export const Strawberry = SpriteKind.create()
    export const Lemon = SpriteKind.create()
    export const Burger = SpriteKind.create()
    export const Leaf = SpriteKind.create()
    export const Bomb = SpriteKind.create()
    export const Logo = SpriteKind.create()
}
sprites.onOverlap(SpriteKind.Burger, SpriteKind.Hitbox, function (sprite, otherSprite) {
    if (allowSlice == 1) {
        info.changeScoreBy(1)
        color.setPalette(
        color.SteamPunk
        )
        color.FadeToWhite.startScreenEffect(20)
        pause(20)
        sprite.setImage(assets.image`myImage1`)
        color.Darken.startScreenEffect(20)
        pause(20)
        color.FadeToBlack.startScreenEffect(20)
        pause(20)
        color.Brighten.startScreenEffect(20)
        pause(20)
        color.clearFadeEffect()
        color.startFade(color.SteamPunk, color.originalPalette, 10)
        pause(180)
    }
})
function zoomScreenOut () {
    animation.runImageAnimation(
    Zoro,
    assets.animation`myAnim`,
    200,
    true
    )
    timer.background(function () {
        while (Zoro.x < 75) {
            Zoro.x += 1
            pause(20)
        }
        allowSlice = 1
    })
    timer.background(function () {
        for (let index = 0; index < 100; index++) {
            if (curtainLeft.x < 19) {
                curtainLeft.x += 3
                pause(20)
            }
        }
    })
    timer.background(function () {
        for (let index = 0; index < 100; index++) {
            if (curtainRight.x > 142) {
                curtainRight.x += -3
                pause(20)
            }
        }
    })
    timer.background(function () {
        for (let index = 0; index < 50; index++) {
            if (curtainLeft.scale > 1.1) {
                curtainLeft.scale += -0.1
                pause(40)
            }
        }
    })
    timer.background(function () {
        for (let index = 0; index < 50; index++) {
            if (curtainRight.scale > 1.1) {
                curtainRight.scale += -0.1
                pause(40)
            }
        }
    })
    pauseUntil(() => Zoro.x < 75)
    Zoom.SetZoomFilter(1, Mode.Center, 500)
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (allowSlice == 0) {
        timer.throttle("action", 200, function () {
            swordSlice = sprites.create(assets.image`Hitbox`, SpriteKind.Effect)
            swordSlice.z = 999
            swordSlice.setPosition(99, 60)
            swordSlice.startEffect(effects.blizzard)
            Zoro.startEffect(effects.blizzard, 500)
            animation.runImageAnimation(
            swordSlice,
            assets.animation`myAnim1`,
            50,
            false
            )
            animation.runImageAnimation(
            Zoro,
            assets.animation`myAnim0`,
            100,
            false
            )
            music.play(music.createSoundEffect(WaveShape.Sawtooth, 3183, 1891, 166, 0, 200, SoundExpressionEffect.Warble, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
            music.play(music.createSoundEffect(WaveShape.Noise, 5000, 5000, 166, 0, 200, SoundExpressionEffect.Warble, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
            allowSlice = 1
            pause(100)
            sprites.destroy(swordSlice, effects.spray, 100)
            pause(100)
            animation.runImageAnimation(
            Zoro,
            assets.animation`zoroDraw`,
            200,
            false
            )
            allowSlice = 0
        })
    }
})
sprites.onOverlap(SpriteKind.Strawberry, SpriteKind.Hitbox, function (sprite, otherSprite) {
    if (allowSlice == 1) {
        info.changeScoreBy(1)
        color.setPalette(
        color.SteamPunk
        )
        color.FadeToWhite.startScreenEffect(20)
        pause(20)
        sprite.setImage(assets.image`Strawberry0`)
        color.Darken.startScreenEffect(20)
        pause(20)
        color.FadeToBlack.startScreenEffect(20)
        pause(20)
        color.Brighten.startScreenEffect(20)
        pause(20)
        color.clearFadeEffect()
        color.startFade(color.SteamPunk, color.originalPalette, 10)
        pause(180)
    }
})
function launchFruit (fruitSprite: Image, kind: number, initialVelocity: number, yAcceleration: number, xVelocity: number) {
    Fruit = sprites.create(fruitSprite, SpriteKind.Strawberry)
    Fruit.z = 999
    Fruit.setPosition(35, 140)
    Fruit.vy = initialVelocity
    Fruit.vx = xVelocity
    Fruit.ay = yAcceleration
    if (kind == 0) {
        Fruit.setKind(SpriteKind.Strawberry)
        music.play(music.tonePlayable(784, music.beat(BeatFraction.Quarter)), music.PlaybackMode.InBackground)
    } else {
        if (kind == 1) {
            Fruit.setKind(SpriteKind.Lemon)
            music.play(music.tonePlayable(698, music.beat(BeatFraction.Quarter)), music.PlaybackMode.InBackground)
        } else {
            Fruit.setKind(SpriteKind.Burger)
            music.play(music.tonePlayable(494, music.beat(BeatFraction.Quarter)), music.PlaybackMode.InBackground)
        }
    }
    if (stage > 1 && Math.percentChance(bombChance)) {
        bombChance = 30
        Fruit.setImage(assets.image`bomb`)
        Fruit.setKind(SpriteKind.Bomb)
        animation.runImageAnimation(
        Fruit,
        [img`
            ....................
            ....................
            ....................
            ...................e
            ...............eeee.
            ..............eebbe.
            ...............eebee
            ...............eeee.
            ..............e.aa..
            ................aa..
            .....111111.....aa..
            ...1199999911..aaa..
            ..119999999911aaa...
            .11959999999911aa...
            .19999999111991.....
            1999999991119991....
            1999999991119991....
            19a9999999991991....
            16a9999999999991....
            16aa999999999991....
            169aa99999999991....
            .96aaa999999969.....
            .996aaaaaaa9699.....
            ..9969aaaa6699......
            ...9966666699.......
            .....999999.........
            `,img`
            ....................
            ....................
            ....................
            ..............e.....
            ...............eeee.
            ...............eebee
            ..............eebbe.
            ...............eeee.
            ................aa.e
            ................aa..
            .....111111.....aa..
            ...1199999911..aaa..
            ..119999999911aaa...
            .11959999999911aa...
            .19999999111991.....
            1999999991119991....
            1999999991119991....
            19a9999999991991....
            16a9999999999991....
            16aa999999999991....
            169aa99999999991....
            .96aaa999999969.....
            .996aaaaaaa9699.....
            ..9969aaaa6699......
            ...9966666699.......
            .....999999.........
            `,img`
            ....................
            ....................
            ....................
            .................e..
            ..............eeeee.
            ...............ebee.
            ...............ebbee
            ...............eeee.
            ................ae..
            ................aa..
            .....111111.....aa..
            ...1199999911..aaa..
            ..119999999911aaa...
            .11959999999911aa...
            .19999999111991.....
            1999999991119991....
            1999999991119991....
            19a9999999991991....
            16a9999999999991....
            16aa999999999991....
            169aa99999999991....
            .96aaa999999969.....
            .996aaaaaaa9699.....
            ..9969aaaa6699......
            ...9966666699.......
            .....999999.........
            `,img`
            ....................
            ....................
            ....................
            .................e..
            ..............eeeee.
            ...............ebbe.
            ...............ebeee
            ...............eeee.
            ................ae..
            ................aa..
            .....111111.....aa..
            ...1199999911..aaa..
            ..119999999911aaa...
            .11959999999911aa...
            .19999999111991.....
            1999999991119991....
            1999999991119991....
            19a9999999991991....
            16a9999999999991....
            16aa999999999991....
            169aa99999999991....
            .96aaa999999969.....
            .996aaaaaaa9699.....
            ..9969aaaa6699......
            ...9966666699.......
            .....999999.........
            `],
        100,
        true
        )
    }
}
sprites.onOverlap(SpriteKind.Bomb, SpriteKind.Hitbox, function (sprite, otherSprite) {
    if (allowSlice == 1) {
        music.play(music.melodyPlayable(music.bigCrash), music.PlaybackMode.InBackground)
        color.setPalette(
        color.SteamPunk
        )
        color.FadeToWhite.startScreenEffect(20)
        pause(20)
        color.Darken.startScreenEffect(20)
        pause(20)
        color.FadeToBlack.startScreenEffect(20)
        pause(20)
        color.Brighten.startScreenEffect(20)
        pause(20)
        color.clearFadeEffect()
        color.startFade(color.SteamPunk, color.originalPalette, 10)
        pause(180)
        game.setGameOverScoringType(game.ScoringType.HighScore)
        game.setGameOverEffect(true, effects.none)
        game.setGameOverMessage(true, "GAME OVER!")
        game.gameOver(true)
    }
})
sprites.onOverlap(SpriteKind.Lemon, SpriteKind.Hitbox, function (sprite, otherSprite) {
    if (allowSlice == 1) {
        info.changeScoreBy(1)
        color.setPalette(
        color.SteamPunk
        )
        color.FadeToWhite.startScreenEffect(20)
        pause(20)
        sprite.setImage(assets.image`myImage2`)
        color.Darken.startScreenEffect(20)
        pause(20)
        color.FadeToBlack.startScreenEffect(20)
        pause(20)
        color.Brighten.startScreenEffect(20)
        pause(20)
        color.clearFadeEffect()
        color.startFade(color.SteamPunk, color.originalPalette, 10)
        pause(180)
    }
})
function zoomScreenIn () {
    animation.runImageAnimation(
    Zoro,
    assets.animation`zoroDraw`,
    200,
    false
    )
    allowSlice = 0
    scene.cameraShake(4, 1000)
    timer.background(function () {
        Zoro.startEffect(effects.spray, 1000)
        for (let index = 0; index < 40; index++) {
            Zoro.x += -1
            pause(20)
        }
    })
    timer.background(function () {
        for (let index = 0; index < 40; index++) {
            curtainLeft.x += -3
            pause(20)
        }
    })
    timer.background(function () {
        for (let index = 0; index < 40; index++) {
            curtainRight.x += 3
            pause(20)
        }
    })
    timer.background(function () {
        for (let index = 0; index < 25; index++) {
            curtainRight.scale += 0.1
            pause(40)
        }
    })
    timer.background(function () {
        for (let index = 0; index < 25; index++) {
            curtainLeft.scale += 0.1
            pause(40)
        }
    })
    timer.background(function () {
        for (let index = 0; index < 10; index++) {
            for (let value of sprites.allOfKind(SpriteKind.Strawberry)) {
                value.scale += 0.1
            }
            for (let value of sprites.allOfKind(SpriteKind.Lemon)) {
                value.scale += 0.1
            }
            for (let value of sprites.allOfKind(SpriteKind.Burger)) {
                value.scale += 0.1
            }
            for (let value of sprites.allOfKind(SpriteKind.Bomb)) {
                value.scale += 0.1
            }
            pause(50)
        }
    })
    Zoom.SetZoomFilter(1.2, Mode.Center, 500)
}
function changeStage () {
    if (stage == 5) {
        game.setGameOverScoringType(game.ScoringType.HighScore)
        game.setGameOverMessage(true, "Good work!")
        game.gameOver(true)
    }
    stage += 1
    if (stage < 5) {
        game.splash("Stage " + convertToText(stage))
        if (stage == 2) {
            game.splash("Don't slice the bombs!")
        }
    } else {
        game.splash("Bonus Stage", "Slice as many as you can!")
    }
}
let bgLeaf: Sprite = null
let kindNum = 0
let Fruit: Sprite = null
let swordSlice: Sprite = null
let curtainRight: Sprite = null
let curtainLeft: Sprite = null
let bombChance = 0
let allowSlice = 0
let stage = 0
let Zoro: Sprite = null
scene.setBackgroundImage(img`
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999c999996999999b99999999999999b9999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999c999996999999b99999999999999b9999999999999
    9999999999999999999999999999999999699999999999b99999999999999999999999999999999999999999999999999999999999999999999999c999999699999b99999999999999b9999999999999
    999999999999999999999999999999999969999999999999999999999999999999999999999999999999999999c999999999999999999999999999c999999699999b99999999999999b9999999999999
    999999999999999999999999999999999969999999999b999999999999999999999999999999999999999999999999999999999999999999999999c999999999999b99999999999999b9999999999999
    99999999999999999999999999999999996999999999b9999999999999999999999999999999999999999999999c99999999999999999999999999c999999969999b99999999999999b9999999999999
    9999999999999999999999999999999999699999999b99999999999999999999999999999999999999999999999999999999999999999999999999c999999969999b99999999999999b9999999999999
    99999999999999999999999999999999969999999999999999999999999999999999999999999999999999999999c9999999999999999999999999c999999969999b99999999999999b9999999999999
    999999999999999999999999999999999699999999b99999999999999999999999999999999999999999999999999c999999999999999999999999c999999996999b99999999999999b9999999999999
    99999999999999999999999999999999969999999b999999999999999999999999999999999999999999999999999c999999999999999999999999c999999996999b99999999999999b9999999999999
    9999999999999999999999999999999969999999b99999999999999999999999999999999999999999999999999999c99999999999999999999999c999999996999b99999999999999b9999999999999
    99999999999999999999999999999999699999bb9999999999999999999999999999999999999999999999999999999c9999999999999999999999c999999999699b99999999999999c9999999999999
    9999999999999999999999999999999969999bb99999999999999999999999999999999999999999999999999999999c9999999999999999999999c999999999699b99999999999999b9999999999999
    999999999999999999999999999999996999bb9999999999999999999999999999999999999999999999999999999999c999999999999999999999c999999999699b99999999999999b9999999999999
    99999999999999999999999999999999699b999999999999999999999999999999999999999999999999999999999999cc99999999999999999999c999999999669b99999999999999b9999999999999
    9999999999999999999999999999999699b99999999999999999999999999999999999999999999999999999999999999cc9999999999999999999c999999999969b99999999999999c9999999999999
    99999999999999999999999999999996bb9999999999999999999999999999999999999999999999999999999999999999c9999999999999999999c999999999969c99999999999999b9999999999999
    99999999999999999999999999999996b999999999999999999999999999999999999999999999999999999999999996999c999999999999999999c9999999999bbcbb999999999999b9999999999999
    9999999999999999999999999999996b99999999999999999999999999999999999999999999999999999999999999969999c99999999999999999c99999999bbbcbcbbb9999999999c9999999999999
    9999999999999999999999999999bb69999999999999999999999999999999999999999999999999999999999999999999999c9999999999999999b9999c99ccccbbbccccc9c999999b9999999999999
    999999999999999999999999999bb9bc9999999999999999999999999999999999999999999999999999999999999999699999c999999999999999c9999bbbbcccbbbbcccbbb999999b9999999999999
    99999999999999999999999999b996bb99999999999999999999999999999999999999999999999999999999999999996999999cc9999999999999c9999cbbbbbbbbbbbbbbbc999999b9999999999999
    999999999999999999999999bbbbbbbbc99999999999999999999999999999999999999999999999999999999999999999999999cc999999999999c99999ccc9c96699c99cc9999999b9999999999999
    99999999999999999999999bb9cbbbbbbbbc999999999999999999999999999999999999999999999999999999999999969999999cc99999999999b99999cb9bbb969bbb9bc9999999b9999999999999
    999999999999999999999bb9999bbbbbbbc999999999999999999999999999999999999999999999999999999999999996999999999c9999999999c999999b9cbc969cbc9b99999999b9999999999999
    99999999999999999999b999999cbbbbbc99999999999999999999999999999999999999999999999999999999999999996999999999cc99999999c999999b99b99699b99b99999999b9999999999999
    999999999999999999bb9999999cbbbbbc999999999999999999999999999999999999999999999999999999999999999969999999999cc9999999b999999b99b99669b99b99999999b9999999999999
    9999999999999999bb999999999bbbcbbb99999999999999999999999999999999999999999999999999999999999999996999999999999cc99999c999999b99b99969b99b99999999b9999999999999
    999999999999999bb9999999999bb999bb9999999999999999999999999999999999999999999999999999999999999999969999999999999cc999c999999b99b99969b99b99999999b9999999999999
    9999999999999bb9999999999966999999999999999999999999999999999999999999999999999999999999999999999996999999999999999cc9c999999b99b99966b99b99999999b9999999999999
    9999999999bbb99999999999996999999999999999999999999999999999999999999999999999999999999999999999999969999999999999999ccc99999b99b99966b99b99999999b9999999999999
    999999999b999999999999999969999999999999999999999999999999999999999999999999999999999999999999999999669999999999999999cccc999b99b99996b99b99999999b9999999999999
    99999999bb999999999999999699999999999999999999999999999999999999999999999999999999999999999999999999969999999999999999c99ccccb99b99996b99b99999999b9999999999999
    999999bb99999999999999999699999999999999999999999999999999999999999999999999999999999999999999999999966999999999999999c99999cbccb99996b99b99999999b9999999999999
    9999bb9999999999999999996999999999999999999999999999999999999999999999999999999999999999999999999999996999999999999999c999999b9cbccc96b99b99999999b9999999999999
    bbbb999999999999999999996999999999999999999999999999999999999999999999999999999999999999999999999999996699999999999999c999999b99b99cccbc9b99999999b9999999999999
    9999999999999999999999966999999999999999999999999999999999999999999999999999999999999999999999999999999669999999999999c999999bc9b99999b6cbccc99999b9999999999999
    9999999999999999999999969999999999999999999999999999999999999999999999999999999999999999999999999999999966999999999999c999999bbcb99999bcbb99ccccc9b9999999999999
    9999999999999999999999969999999999999999999999999999999999999999999999999999999999999999999999999999999966999999999999c999999cbbbbbbbbbbbc99999999bccccccc999999
    9999999999999999999999969999999999999999999999999999999999999999999999999999999999999999999999999999999996699999999999c9999999bbbbbbbbbbb999999999c99999cccccccc
    9999999999999999999999699999999999999999999999999999999999999999999999999999999999999999999999999999999999669999999999c99999999cbbcccbbc69999999bbcbb99999999999
    9999999999999999999996999999999999999999999999999999999999999999999999999999999999999999999999999999999999966999999999c99999999999bbb999699999bbbcbcbbb999999999
    9999999999999999999969999999999999999999999999999999999999999999999999999999999999999999999999999999999999996699999999c99999999999cbc99966c99ccccbbbccccc9c99999
    9999999999999999999669999999999999999999999999999999999999999999999999999999999999999999999999999999999999999669999999c99999999999ccc99966bbbbcccbbbbcccbbb99999
    9999999999999999999699999999999999999999999999999999999999999999999999999999999999999999999999999999999999999666999999c99999999999bbb99996cbbbbbbbbbbbbbbbc99999
    9999999999999999996999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999966699999c99999999999cbc999966ccc9c99999c99cc999999
    9999999999999999966999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999996669999c999999999999b9999996cb9bbb999bbb9bc999999
    9999999999999999969999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999666999c999999999999b99999966b9cbc999cbc9b9999999
    99999999999999996999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999966bbcbb9999999999b99999966b99b99999b99b9999999
    999999999999999669999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bbbcbcbbb99999999b99999996b99b99999b99b9999999
    99999999999999669999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999c99ccccbbbccccc9b9999b99999996b99b99999b99b9999999
    99999999999999699999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bbbbcccbbbbcccbbb9999b99999999b99b99999b99b9999999
    99999999999996999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999cbbbbbbbbbbbbbbbc9999b99999999b69b99999b99b9999999
    999999999999699999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ccc9c99999c99cc99999c99999999b66b99999b99b9999999
    999999999996699999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999cb9bbb999bbb9bc99999c99999999b96b99999b99b9999999
    9999999999669999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b9cbc999cbc9b699999c99999999b96b99999b99b9999999
    9999999966999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b99b99999b99b666999c99999999b99b99999b99b9999999
    9999999669999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b99b99999b99b966669999999999b99b69999b99b9999999
    9999996699999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b99b99999b99b999966669999999b99b66999b99b9999999
    9999669999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b99b99999b99b999999666699999bc9b96999b9cb9999999
    9966999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b99b99999b99b999999996666669bbcb96699bcbb9999999
    6699999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b99b99999b99b999999999996666cbbbbbbbbbbbc9999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b99b99999b99b9999999999999996bbbbbbbbbbb99999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b99b99999b99b99999999999999999cbbcccbbc999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b99b99999b99b99999999999999999999bbb969999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b99b99999b99b99999999999999999999cbc966999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b99b99999b99b99999999999999999999ccc996699999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bc9b99999b9cb99999999999999999999bbb999969999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bbcb99999bcbb99999999999999999999cbc999996699999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999cbbbbbbbbbbbc999999999999999999999b9999999669999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bbbbbbbbbbb9999999999999999999999b9999999966999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999cbbcccbbc99999999999999999999999b9999999999669
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bbb99999999999999999999999999b9999999999966
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999cbc99999999999999999999999999b9999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ccc99999999999999999999999999b9999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bbb99999999999999999999999999b9999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999cbc99999999999999999999999999c9999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b999999999999999999999999999c9999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b999999999999999999999999999c9999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b999999999999999999999999999c9999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b99999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b99999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b99999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b99999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999c99999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999c99999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999c99999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999c99999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999c9999999999
    9999999c999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999cc999999999
    999999ccc9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ccccc9999999
    9999999c9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ccccc99999999
    99999999999999999999b9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999cccc99999999
    9999999999999999999bbb999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999cccc99999999
    99999999999999999999b9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999c99c99999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b999999999b999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bbb99999999b999999
    99999b99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b99999999bbb99999
    9999bbb9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bbb99999
    99999b9999999999999999999999999b999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bbbbbbbbb99
    99999999999999c9999999999999999bb999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bbbbbbb999
    99999999999999b999999999999999bbbbb99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bbbbb9999
    999999999999bbbbb999999999999bbbbb999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bb9bb9999
    9999999999999bbb99999999999999bbbb999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b999b9999
    9999999999999b9b999999999999999b9b9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b9999999999999999999999999
    9999999999999999999999999999999b999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b9999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bbb999999999999999999999999
    99999999999999999999999b9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bbb999999999999999999999999
    99999999999999999999999b9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bbbbbbbbb999999b99999999999999
    9999999999999999999999bbb9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bbbbbbb9999999b99999999999999
    999999999c999999999999bbb999999999999999999999999b9999999999999999999999999999999999999999999999999999999999999999999999999999999999bbbbb9999999bbb9999999999999
    999999999b999999999bbbbbbbbb999999999999999999999b9999999999999999999999999999999999999999999999999999999999999999999999999999999999bb9bb9999999bbb9999999999999
    9999999bbbbb99999999bbbbbbb999999999999999999999bbb999999999999999999999999999999999999999999999999999999999999999999999999999999999b999b999999bbbbb999999999999
    99999999bbb9999999999bbbbb9999999999999999999999bbb99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bbbbbbbbbbb999999999
    99999999b9b9999999999bb9bb9999999999999999999bbbbbbbbb999999999999999999999999999999999999999999999999999999999999999999999b99999999999999999bbbbbbbbb9999999999
    99999999999999b999999b999b99999999999999999999bbbbbbb999999999999999999999999999999999999999999999999999999999999999999999bbb999999999999999999bbbbb999999999999
    9999999999999bbb9999999999999999999999999999999bbbbb99999999999999999999999999999999999999999999999999999999999999999999999b999999999999999999bbb9bbb99999999999
    99999999999bbbbbbb99999999999999999999999999999bb9bb999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999bb999bb9999b999999
    999999999999bbbbb9999999999999b9999999999999999b999b999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999b99999b999bbb99999
    `)
music.play(music.createSoundEffect(WaveShape.Sawtooth, 816, 0, 213, 47, 500, SoundExpressionEffect.Warble, InterpolationCurve.Logarithmic), music.PlaybackMode.InBackground)
Zoro = sprites.create(img`
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ...................................................................44...444.........................................................
    .............................................................5.44445444444444.......................................................
    .............................................................5444444544444445444....................................................
    ............................................................44445444444444444444....................................................
    ...........................................................444454544444444444455....................................................
    ..........................................................55444544444444444445454.4.................................................
    ..........................................................5454444444444444444445444.................................................
    .........................................................45444444444444444444454445.................................................
    .........................................................44544444544444444444444445.................................................
    .........................................................4444444425445544544444445..................................................
    ........................................................55444444422452254244444444..................................................
    ........................................................5444422222522222422222544444................................................
    .........................................................45442222222222222222224445.................................................
    .........................................................5444222222222222322222445..................................................
    ........................................................44444222232222222322224444..................................................
    ........................................................454442222322222232222224444.................................................
    .........................................................44452222232222322222224444.................................................
    .........................................................44422222232222322222224445.................................................
    .........................................................5442222223222322232222445..................................................
    .........................................................2542332222222222232222452..................................................
    .........................................................2342223222222222233322432..................................................
    .........................................................2342119332232232232232432..................................................
    aaaaa.....................................................24221911332222333222242...................................................
    .aaaaaaaaaaaaaaaa..........................................422222222222222322224bb..................................................
    ...aaaaaaaaaaaaaaaaaaa....................................bb22222222232222322225b.b.................................................
    ......aaaaaaaaaaaaaaaaaaaaaaaaaa.........................bbbb22222222322222222.b.b..................................................
    ..........aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa...........bbbb22222222322222222......................................................
    ..................aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaabbbb99999999999999999999bb..................................................
    ........................aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaabbb99999999999999999999bbb..................................................
    ...............................aaaaaaaaaaaaaaaaaaaaaaaaabbb99999999999999999999bbb..................................................
    ..............................................aaaaaaaaaabbb99999999999999999999bb...................................................
    ........................................................bbbbb3333333333333333666666.................................................
    ......................................................66bbbbb333333333333333333666666...............................................
    ...................................................66666bbbb233333333333333333226666666.............................................
    ..................................................6666666bb333333333333333333222266666666...........................................
    ................................................666666666222233333333333333333339666666666..........................................
    ...............................................6666666666222222222223333222222229266666666..........................................
    ..............................................666666666662222222222222222222222922666666666.........................................
    ..............................................6666666666622222222222222222222229226666666666........................................
    ..............................................6666666666622222222222222222222292226666666666........................................
    .............................................666666666666222222222222222222222922666666666666.......................................
    .............................................666666666666222222222222322222229222666666666666.......................................
    ............................................6666666666666222222222222322222229222666666666666.......................................
    ............................................6666666666666322222222222322222292226666666666666.......................................
    ............................................6666666666666322222222223332222922226666666666666.......................................
    ...........................................66666666666666233222222232323299222266666666666666.......................................
    ...........................................66666666666666622333333332323922222666666666666666.......................................
    ..........................................6666666666666666222222222223292333326666666666666666......................................
    ..........................................6666666666666666622222222229922222266666666666666666......................................
    .........................................6666666666666666662222222299b222222266666666666666666......................................
    .........................................6666666666666666666222229922b2222222666666666666666666.....................................
    ........................................66666666666666666666229992222b2222226666666666666666666.....................................
    .......................................66666666666666666666699777777777777766666666666666666666.....................................
    .......................................666666666666666666666777777777777776666666666666666666666....................................
    .......................................66666666666666666bb66777777777777776666666666666666666666....................................
    .............................b.........66666666666666666bbb6677777777777766666666666666666666666....................................
    ............................bbbccc....666222666666666666bbb66677777777776666666666666666666666666...................................
    ............................bbbccccc..22222222266666666666666666677777776666666666666666666666666...................................
    ............................bbbcccccccc2222222222666666666666666667777666666666666666666666666666...................................
    ............................bbbbccccccccc22222222666666666666666ff66666666666666666666666666666666..................................
    .............................bbbccccccccc2222222266666666666666ff6666666666666666666666666666666666.................................
    .............................bbbccccccccc22222222666666666666666666666666666666666666666666666666666................................
    ..................................ccccccc22222222222666666666666666666666666666666666666666666666666................................
    ...................................3333cc222222222222222666666222222226666666666666666666666666666666...............................
    ..................................33333bb222222222222222222222222222222266666666666666666666666666666...............................
    ..................................33333bbb222222222222222222222222222222226666666666666666666666666666..............................
    ..................................33333bbbb2222222222222222222222222222222226666666666666666666666666666............................
    ..................................333333bbbb2222222222222222222222222222222226666666666666666666666666666...........................
    ..................................333333bbbb77722222222222222222222222222222226666666666666666666666666666..........................
    ..................................33333333b7777777722222222222222222222222222226666666666666666666666666666.........................
    ...................................333333377777777777222222222222222222222227777766666666666666666666666666.........................
    ...................................333333377777777777777222222222222222222777777776666666666666666666666666.........................
    ...................................333333377777777777777777222222222222777777777777666666666666666666666666.........................
    .....................................33377777777777777777777777777222777777777777777666666666666666666666...........................
    ........................................666666666666667777777777777777777777777777666666666666666666................................
    .......................................666666666666666666777777777777777777777766666666666666666666666..............................
    ....................................66666666666666666666666677777777777777777766666666666666666666666666............................
    ....................................66666666666666666666666666667777777777666666666666666666666666666666............................
    ...................................66666666666666666666666666666666666bbbb66666666666666666666666666666666..........................
    .................................66666666666666666666666666666666666bbbbb66666666666666666666666666666666666........................
    ...............................666666666666666666666666666666666666bbbb66666666666666666666666666666666666666.......................
    ..............................6666666666666666666666666666666666666bb66666666666666666666666666666666666666666......................
    ..............................66666666666666666666666666666666666666666666666666666666666666666666666666666666......................
    ..............................66666666666666666666666666666666666666666666666666666666666666666666666666666666......................
    .............................666666666666666666666666666666666666666666666666666666666666666666666666666666666......................
    .............................6666666666666666666666666666666666bbbbbbb66666666666666666666666666666666666666666.....................
    .............................6666666666666666666666666666666666bbbbbbb66666666666666666666666666666666666666666.....................
    .............................6666666666666666666666666666666666666666666666666666666666666666666666666666666666.....................
    .............................666666666666666666666666666666666666666666666666666666666666666666666666666666666666...................
    .............................666666666666666666666666666666666666666666666666666666666666666666666666666666666666...................
    .............................666666666666666666666666666666666666666666666666666666666666666666666666666666666666...................
    .............................6666666666666666666666666666666666666666666666666666666666666666666666666666666666666..................
    .............................66666666666666666666666666666666666666666666666666666666666666666666666666666666666666.................
    .............................66666666666666666666666666666666666666666666666666666666666666666666666666666666666666.................
    .............................666666666666666666666666666666666699666666666666666666666666666666666666666666666666666................
    .............................666666666666666666666666666666666699666666666666666666666666666666666666666666666666666................
    .............................666666666666666666666666666666666699666666666666666666666666666666666666666666666666666................
    .............................666666666666666666666666666666666999666666666666666666666666666666666666666666666666666................
    .............................666666666666666666666666666666699999666666666666666666666666666666666666666666666666666................
    .............................6666666666666666666666666666666999996666666666666666666666666666666666666666666666666666...............
    .............................6666666666666666666666666666669999996666666666666666666666666666666666666666666666666666...............
    .............................666666666666666666666666666669999999996666666666666666666666666666666666666666666666666666.............
    .............................666666666666666666666666666669999999996666666666666666666666666666666666666666666666666666.............
    .............................666666666666666666666666666669999999996666666666666666666666666666666666666666666666666666.............
    .............................6666666666666666666666666666699999999966666666666666666666666666666666666666666666666666666............
    .............................6666666666666666666666666666......999966666666666666666666666666666666666666666666666666666............
    .............................666666666666666666666666666...........666666666666666666666666666666666666666666666666666666...........
    .............................6666666666666666666666666.............666666666666666666666666666666666666666666666666666666...........
    .............................66666666666666666666666...............6666666666666666666666666666666666666666666666666666.............
    .............................66666666666666666666666...............6666666666666666666666666666666666666666666666666666.............
    .............................66....99999966666666666...............66666666666666666666666666666666666666666666666699...............
    ....................................999999999.......................666666............6666666666666666666666999999999...............
    ....................................999999999...............................................................9999999999..............
    ....................................999999999...............................................................9999999999..............
    ....................................9999999999...............................................................999999999..............
    ....................................9999999999...............................................................999999999..............
    ...................................99999999999................................................................999999999.............
    ..................................9999999999999................................................................999999999............
    ................................999999999999999................................................................999999999............
    ...............................99999999999999999................................................................999999999...........
    .............................9999999999999999999................................................................9999999999..........
    ............................99999999999999999999.................................................................9999999999.........
    ............................9999999999999999999..................................................................9999999999.........
    ...........................999999999999999999....................................................................99999999999........
    ...........................999999999999999.......................................................................999999999999.......
    ...........................999999999999..........................................................................9999999999999......
    ...........................9999999999............................................................................99999999999999.....
    ...........................99999999...............................................................................99999999999999....
    ..................................................................................................................99999999999999....
    ..................................................................................................................99999999999999....
    ...................................................................................................................9999999999999....
    ....................................................................................................................9999999999999...
    ......................................................................................................................99999999999...
    ......................................................................................................................99999999999...
    ........................................................................................................................99999999....
    .........................................................................................................................999999.....
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    ....................................................................................................................................
    `, SpriteKind.Player)
Zoro.setPosition(20, 105)
let Logo = sprites.create(img`
    ....................................................................................................
    ....................................................................................................
    ....................................................................................................
    ....................................................................................................
    ....................................................................................................
    ....................................................................................................
    ....................111...................111.......................................................
    ....................111...................111.......................................................
    ..................11111...................11111.....................................................
    ..................11111...................11111.....................................................
    ..................111111.................111111.....................................................
    .......555555555555555511...555555555...1111......555555555......555555555..........................
    .......555555555555555111155555555555551111.....5555555555555....55555555555........................
    .......555555555555555.1155555555555555511.....555555555555555...555555555555.......................
    .......555555555555555..55555555555555555.....55555555555555555...5555555555555.....................
    ........55555555.55555.5555555999999555555...555555.......555555..5555.55555555.....................
    ........555555.....555555555999999999955555.55555...........55555.5555...5555555....................
    ........55555.........555559999999999995555.5555.............5555.5555.....55555....................
    ........55555........555559999999999999955555555.............55555.555......5555....................
    ........55555........55555999999999999995555555...............5555.555......55555...................
    ........55555........55555999999999999995555555...............5555.555.......5555...................
    .........55555....5..55555911111111111195555555...............5555.555.......5555...................
    .........5555555555..55555111991111191119955555...............5555.555.......5555...................
    .........5555555555..55555119999111999119995555...............5555.555.......5555...................
    .........5555555555..55555119999119191119555555...............5555.555.......5555...................
    .........5555.....5..55555119991111191119955555...............5555.555.......5555...................
    .........5555........555555111119911111999555555.............55555.555......55555...................
    .........5555.........555555111199111115555.5555.............5555..555......5555....................
    .........5555.........555555591111119555555.55555...........55555.5555.....55555....................
    ........55555..........5555551999999155555...555555.......555555..5555...555555.....................
    ........555555.........1555559191191955551....55555555555555555...5555.5555555......................
    ........555555........111555559999995555111....555555555555555...5555555555555......................
    ........555555.......1111.5555511115555.1111....5555555555555....555555555555.......................
    ..................111111....555555555....111111...555555555......5555555555.........................
    ..................11111...................11111.....................................................
    ..................11111...................11111.....................................................
    ....................111...................111.......................................................
    ....................111...................111.......................................................
    .................................................................44444..............................
    ...........................................................444..4444444.............................
    .........444..................................4444444.44444444..4444444.............................
    .........444...........444........444.........4444444444444444..4444444...........eeeeee............
    .........444......4444.444..444...4444...444..444444444444444...444.444..........eeeeeeee...........
    .........444......4444.444..444.4444444..444....444..4444.......444.444.........eeeeeeeeee..........
    .........4444.....4444.444..44444444444..444....444..444444444..4444444........eeeeeeeeeeee.........
    .........4444444444444.444..444444444444.444....444...44444444..4444444........eeee....eeee.........
    ..........444444444444.444..4444.4444444.444....444...44444444..4444444........eee......eeee........
    ..........444444444444.444...444.444.44444444...444...444.......444444444.....eeee......eeeee.......
    ..........444......444.4444..444.444.44444444...444...444.......4444444444....eeee.......eeee.......
    ..........444......444.4444.4444.444..4444444...444...444.4444444444.4eeee...eeee.........eeee......
    ..........444......444..44444444.444...444444...4444..44444444444444.eeeeeee.eeee.........eeeee.....
    ..........444......444..4444444..444....44444...4444..44444444444444eeeeeeee.eee...........eeee.....
    ..........444......444..4444444..444......444.eeee44...44444eee.....eeeeeeeeeeee............eeee....
    ..........444......444...44444.............eeeeeee........eeeeeee...eeee.eeeeeee............eeee....
    ..........444......444..................eeeeeeeeee.......eeeeeeeee..eee...eeeeee.............eee....
    ......................................eeeeeeeeeeee.......eeeeeeeeee.eee...eeeeee.............eee....
    ....................................eeeeeeeeeeeee.......eeeee..eeeeeeeee..eeeeee.............eee....
    ...................................eeeeeee..eeeee.......eeee....eeeeeeee.eeeeeee.............eee....
    ..................................eeeeee....eeee........eee......eeeeeeeeeeeeeee.............eee....
    ................................eeeeee.....eeee.........eee.......eeeeeeeeee.eeee............eee....
    ................................eeeee.....eeeee........eeee........eeeeeeee..eeeee..........eeee....
    ................................eeee.....eeeee.........eeee.......eeeeeeee....eeee.........eeeee....
    .........................................eeee.........eeeee.......eeeeeee......eeee........eeee.....
    ........................................eeee........eeeeeee.......eeeeeeee.....eeeee.....eeeee......
    .......................................eeeee......eeeeeeee.......eeeeeeeeeeee...eeeeeeeeeeeeee......
    .......................................eeee.....eeeeeeeeeee.....eeeeeeeeeeeeeee..eeeeeeeeeeee.......
    ......................................eeee....eeeeeeee.eeeee...eeeee.eeeeeeeeeeee.eeeeeeeee.........
    .....................................eeeee..eeeeeeee....eeeeeeeeeee...eee..eeeeeee..eeee............
    .....................................eeee..eeeeeee.......eeeeeeeeee...eeee...eeeeeee................
    ....................................eeee.eeeeeee..........eeeeeee.....eeee.....eeeeee...............
    ...................................eeeeeeeeeee.........................eee......eeeeee..............
    ...................................eeeeeeeeee..........................eee........eeeee.............
    ..................................eeeeeeeee........................................eeee.............
    .................................eeeeeeeee..........................................eee.............
    ................................eeeeeeee............................................................
    ...............................eeeeeeee.............................................................
    ...............................eeeeeee..............................................................
    ...............................eeeee................................................................
    ...............................eeee.................................................................
    ....................................................................................................
    `, SpriteKind.Logo)
Logo.setPosition(100, 45)
game.setDialogTextColor(1)
game.setDialogFrame(img`
    . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . 
    `)
game.showLongText("Press A to start", DialogLayout.Bottom)
sprites.destroy(Logo)
info.setScore(0)
let theta = 0
stage = 1
let isZooming = 0
allowSlice = 1
let timesPlayed = 0
bombChance = 100
let timeList = [600, 800, 1000]
let list = [assets.image`Strawberry`, img`
    c c c . . c c c c c . . . . . . 
    c b b c c b b b b b c c . . . . 
    b c b b 1 b 1 1 1 b b b c . . . 
    . b b b b b 1 1 b b 1 1 d c . . 
    . b d b b b b b b b b 1 1 b c . 
    b 2 b b b b b b b b b b 1 b c . 
    c d b b b b b b b b b b b b b c 
    c d 2 b b b b b b b b b b 1 b c 
    c 2 b b b d b b b b b b b b b c 
    c 2 d b 2 b d b b b b b b b b c 
    . c 2 b b b b d d d b b b b b b 
    . c 2 d b 2 b d 2 2 d b b b 2 c 
    . . c 2 3 d 2 2 2 2 2 d d b d c 
    . . . c 2 2 2 2 2 2 2 2 b b b 2 
    . . . . c c b 2 2 2 b b 2 b 2 2 
    . . . . . . c c c c c c b b 2 . 
    `, img`
    ...........ccccc99999...........
    ........ccc2222222222999........
    ......cc222222222332222299......
    .....c322223322223b32222223.....
    ....d322223b3222223222222223....
    ...d3322222322222222223222229...
    ..d3b33222222222332223b3222229..
    ..db33b3222222223b32223223322d..
    .dbb3232222222222322222223b322d.
    .db332222222222222222222223322d.
    d3bb322222332222222222222222223d
    d3bb332223b32222222233222222223d
    f3bbb3222332222222223b322222223f
    fc3bbb322222222222222332222223cf
    .f33bbbb3222222222222222222223f.
    .ef33bbbbb3322222222222222223fe.
    .86fc33bbbbb333222222222223cc688
    8772effc3333333333333333cfc22778
    87722222cccccccccccccccc22226678
    f866622222222222222222222276686f
    fef866677766667777776667777fffef
    f3ff877768f86777777666776fffff3f
    f3effeefffeff7766688effeeeefe36f
    f63fffeffeeeeeeeeeeeeefeeeee336e
    f66ddfffffeeeffeffeeeeeffeed3d6e
    .c66ddd4effffffeeeeeffff4dd326e.
    .fc63dddddddddddddddddddd3222ee.
    ..ff633222222222222222222222ee..
    ....ff33332222222222222222ee....
    ......ffe33333322222222eee......
    .........fffffffcccccee.........
    ................................
    `]
curtainLeft = sprites.create(assets.image`myImage0`, SpriteKind.Curtain)
curtainRight = sprites.create(assets.image`myImage`, SpriteKind.Curtain)
curtainLeft.setPosition(19, 60)
curtainLeft.z = 1
curtainRight.setPosition(142, 60)
curtainRight.z = 1
Zoro.setPosition(75, 100)
Zoro.scale = 1
animation.runImageAnimation(
Zoro,
assets.animation`myAnim`,
200,
true
)
let swordHitbox = sprites.create(assets.image`Hitbox`, SpriteKind.Hitbox)
swordHitbox.setPosition(100, 65)
swordHitbox.setFlag(SpriteFlag.Invisible, true)
music.play(music.createSong(hex`008f000408080303001c0001dc00690000045e0100040000000000000000000005640001040003500100000400012004000800012008000c0001200c001000011e10001400012014001800012418001c0001251c002000012a20002400012724002800012728002c0001272c003000012530003400012740004400011b44004800011b48004c00011b4c005000011950005400011b54005800011e58005c0001205c006000012560006400012264006800012268006c0001226c007000012070007800011b80008400012084008800011e88008c00011b8c009000011990009400012094009800011e98009c00011b9c00a0000119a000a4000120a400a800011ea800ac00011bac00b0000119b000b400011bb400b8000119b800bc00011bc000c4000127c400c8000125c800cc000122cc00d0000120d000d4000127d400d8000125d800dc000122dc00e0000120e400e8000120e800ec000122ec00f0000125f000f4000127f400f8000125f800fc000127fc000001012a07001c00020a006400f4016400000400000000000000000000000000000000038c010000040002142004000800012008000c00020f200c001000011e1000140002142014001800012418001c00020f251c002000012a2000240002142724002800012728002c00020f272c00300001253000380002142738003c00010f3c004000010d40004400020f1b44004800011b48004c00020a1b4c005000011950005400020f1b54005800011e58005c00020a205c006000012560006400020f2264006800012268006c00020a226c007000012070007800020f1b78007c0001117c008000011280008400020f2084008800011e88008c00020a1b8c009000011990009400020f2094009800011e98009c00020a1b9c00a0000119a000a400020f20a400a800011ea800ac00020a1bac00b0000119b000b400020f1bb400b8000119b800bc00020a1bc000c400021227c400c8000125c800cc00020d22cc00d0000120d000d400021227d400d8000125d800dc00020d22dc00e0000120e000e4000112e400e8000120e800ec00020d22ec00f0000125f000f400021227f400f8000125f800fc00020d27fc000001020f2a09010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c800c000000001000115080009000115100011000115180019000115200021000115280029000115300031000115380039000114400041000115480049000115500051000115580059000115600061000115680069000115700071000115780079000114800081000115880089000115900091000115980099000115a000a1000115a800a9000115b000b1000115b800b9000114c000c1000115c800c9000115d000d1000115d800d9000115e000e1000115e800e9000115f000f1000115f800f9000114`), music.PlaybackMode.LoopingInBackground)
game.splash("Press A to slice the ", "fruits when they fall!")
game.splash("Timing is key!")
game.splash("Stage " + convertToText(stage))
forever(function () {
    timer.throttle("launchFruit", 8000, function () {
        if (timesPlayed > 2) {
            music.stopAllSounds()
            music.play(music.melodyPlayable(music.bigCrash), music.PlaybackMode.InBackground)
            music.play(music.melodyPlayable(music.buzzer), music.PlaybackMode.UntilDone)
            timesPlayed = 0
            changeStage()
            music.play(music.createSong(hex`008f000408080303001c0001dc00690000045e0100040000000000000000000005640001040003500100000400012004000800012008000c0001200c001000011e10001400012014001800012418001c0001251c002000012a20002400012724002800012728002c0001272c003000012530003400012740004400011b44004800011b48004c00011b4c005000011950005400011b54005800011e58005c0001205c006000012560006400012264006800012268006c0001226c007000012070007800011b80008400012084008800011e88008c00011b8c009000011990009400012094009800011e98009c00011b9c00a0000119a000a4000120a400a800011ea800ac00011bac00b0000119b000b400011bb400b8000119b800bc00011bc000c4000127c400c8000125c800cc000122cc00d0000120d000d4000127d400d8000125d800dc000122dc00e0000120e400e8000120e800ec000122ec00f0000125f000f4000127f400f8000125f800fc000127fc000001012a07001c00020a006400f4016400000400000000000000000000000000000000038c010000040002142004000800012008000c00020f200c001000011e1000140002142014001800012418001c00020f251c002000012a2000240002142724002800012728002c00020f272c00300001253000380002142738003c00010f3c004000010d40004400020f1b44004800011b48004c00020a1b4c005000011950005400020f1b54005800011e58005c00020a205c006000012560006400020f2264006800012268006c00020a226c007000012070007800020f1b78007c0001117c008000011280008400020f2084008800011e88008c00020a1b8c009000011990009400020f2094009800011e98009c00020a1b9c00a0000119a000a400020f20a400a800011ea800ac00020a1bac00b0000119b000b400020f1bb400b8000119b800bc00020a1bc000c400021227c400c8000125c800cc00020d22cc00d0000120d000d400021227d400d8000125d800dc00020d22dc00e0000120e000e4000112e400e8000120e800ec00020d22ec00f0000125f000f400021227f400f8000125f800fc00020d27fc000001020f2a09010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c800c000000001000115080009000115100011000115180019000115200021000115280029000115300031000115380039000114400041000115480049000115500051000115580059000115600061000115680069000115700071000115780079000114800081000115880089000115900091000115980099000115a000a1000115a800a9000115b000b1000115b800b9000114c000c1000115c800c9000115d000d1000115d800d9000115e000e1000115e800e9000115f000f1000115f800f9000114`), music.PlaybackMode.LoopingInBackground)
        }
        if (timesPlayed <= 2) {
            if (stage < 5) {
                for (let index = 0; index < stage; index++) {
                    kindNum = randint(0, list.length - 1)
                    launchFruit(list[kindNum], kindNum, -350, 150, 17)
                    pause(timeList[randint(0, timeList.length - 1)])
                }
                timesPlayed += 1
                zoomScreenIn()
            } else {
                for (let index = 0; index < 8; index++) {
                    kindNum = randint(0, list.length - 1)
                    launchFruit(list[kindNum], kindNum, -1200, 150, 13)
                    pause(600)
                }
                timesPlayed += 1
                zoomScreenIn()
            }
        }
    })
})
forever(function () {
    for (let value of sprites.allOfKind(SpriteKind.Strawberry)) {
        if (value.y > 150) {
            sprites.destroy(value)
        }
    }
    for (let value of sprites.allOfKind(SpriteKind.Lemon)) {
        if (value.y > 150) {
            sprites.destroy(value)
        }
    }
    for (let value of sprites.allOfKind(SpriteKind.Burger)) {
        if (value.y > 150) {
            sprites.destroy(value)
        }
    }
    for (let value of sprites.allOfKind(SpriteKind.Bomb)) {
        if (value.y > 150) {
            info.changeScoreBy(1)
            sprites.destroy(value)
        }
    }
})
forever(function () {
    timer.throttle("blowLeaf", 7500, function () {
        if (Math.percentChance(75)) {
            bgLeaf = sprites.create(assets.image`leaf`, SpriteKind.Leaf)
            bgLeaf.startEffect(effects.trail)
            bgLeaf.setPosition(randint(160, 500), randint(0, 120))
            bgLeaf.setVelocity(-100, Math.sin(theta))
            animation.runImageAnimation(
            bgLeaf,
            assets.animation`myAnim2`,
            100,
            true
            )
        }
    })
    timer.throttle("changetheta", 300, function () {
        if (theta > 360) {
            theta = 0
        }
        theta += 10
        for (let value of sprites.allOfKind(SpriteKind.Leaf)) {
            value.vy = Math.sin(theta) * 60
            if (value.x < 0) {
                sprites.destroy(value)
            }
        }
    })
})
forever(function () {
    timer.throttle("callZoomOut", 100, function () {
        if (sprites.allOfKind(SpriteKind.Strawberry).length == 0 && (sprites.allOfKind(SpriteKind.Lemon).length == 0 && allowSlice == 0) && (sprites.allOfKind(SpriteKind.Burger).length == 0 && sprites.allOfKind(SpriteKind.Bomb).length == 0)) {
            allowSlice = 2
            zoomScreenOut()
        }
    })
})
